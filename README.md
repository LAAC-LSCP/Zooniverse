# Zooniverse Pipeline for Long Format Recordings

A pipeline to create, upload and analyse long format recordings using the Zooniverse citizen science platform.

## Description

The pipeline comprises three folders:
* /create_subjects contains scripts to segment daylong recordings into small chunks (400ms) and write a metadata file.
* /upload_subjects contains a script to upload data on the zooniverse platform, using the [Panoptes API](https://panoptes-python-client.readthedocs.io/en/v1.0/user_guide.html).
* /zoon_analysis contains scripts to convert Zooniverse data to json format and perform analysis in R.

## Getting Started

Clone or download the repository on your local machine by running:
```
$ git clone https://github.com/psilonpneuma/Zooniverse.git
```
Then navigate to this folder by doing:
```
$ cd Zooniverse/create_subjects/
```

### Prerequisites

Minimum requirements: 1.6 gHz intel core (dual) 4GB 1600 MHz DDR3

* Python (preferably 3.7)
* Panoptes API
* R Studio

### Python packages

* lxml
* pandas
* pydub


### Executing program
## Creating files

See create_subjects/README.md


## Upload subjects 

Navigate to the right folder by doing:
```
cd Zooniverse/upload_subjects/
```

Open `upload_data.py` and enter the location of your extracted clips, plus a name for the batch to upload:
Then, from within the directory where your clips are located, convert them to mp3 format by running:
```
$ ./convert_2_mp3.sh
```
if you encounter a permission error, run:
```
$ chmod +r convert_2_mp3.sh
```

Once your files are in the right format, run:

```
$ python upload_data.py
```

When prompted, enter the subject number generated by the panoptes API.

* Analysis

After having downloaded the CSV file from the Zooniverse platform, launch the notebook Convert_Zooniverse.ipynb to obtain a classification files of type:

```
Idx, UserID, AudioData, Answer, Dataset, Question
```

## Authors

Chiara Semenzin
chiara.semenzin@gmail.com
